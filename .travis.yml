dist: trusty
language: php
php:
  - '7.1'
  - '7.2'
  - '7.3'

before_install:
  - sudo apt-get update -y
  - sudo apt-get install -y automake
  - sudo apt-get install -y -q --no-install-recommends
  - sudo apt-get install -y build-essential
  - sudo apt-get install -y g++
  - sudo apt-get install -y gcc
  - sudo apt-get install -y libc-dev
  - sudo apt-get install -y autoconf
  - sudo apt-get install -y unzip

install:
  - pecl install opencensus-alpha
  - composer install -n --prefer-dist

before_script:
  - sudo cp config/php.ini /usr/local/etc/php
  - vendor/bin/phpcs --standard=./phpcs-ruleset.xml

script:
  - vendor/bin/phpunit